

# lazystock

Cashflow and economic simulation

## Concept

I have no idea how money *actually* works, in fact, I'm a complete idiot when it comes to money and often ponder stupid questions such as:

* Who decides exchange rates? 
* Why can't anybody just start a bank? 
* Why don't countries just print more money in secret?
* Why isn't everyone getting mega rich trading stocks for a living?

I've started reading some books about the financial system, but want to see it working for myself (without risking any real cash). So the concept for this project, is to build a complex sandbox simulation of our entire financial system, with the goal of letting me manually tinker and observe the results.

I also want to be able to pick a random dollar, and watch it travel through the whole system, see what happens to it, or maybe throw billions into the system (i.e. quantitive easing) to observe the effect it has on the economy.

## Design Doc

This section will be an on-going and updating brain dump of ideas, the nice thing about prototyping is that nothing is sacred, and anything can be thrown away if it proves to have been built around a misconception. I'll try to keep this up to date once the development starts, but it may end up falling behind until I know if a concept works or not.

### Brain dump

#### Currency, Product and Time.

This is a bit of an abstract one, but at a low enough level, I think, currency is only ever exchanged for either another type of currency, or a product of some kind.

`Currency` seems straight forward enough to simulate (I'll probably regret saying this later), you can own x units of y currency and you can choose to trade it for either a product, or x units of another currency.

`Product` is more abstract, as it takes the form of both your manufactured products (e.g. a car) but is also generated by employees in the form of labour. So all entities, from people to corporations, will generate product of some sort. 

Almost every product requires other products during the manufacturing process (i.e. to make Z you need to combine X and Y), so really it's still quite similar to currency, in that manufacturing is basically just exchanging products (X and Y) for another product (Z).

Products will be procedurally generated by the simulation, there is no real benefit (other than readability) in going to the effort of trying to manually create a list of every products and product requirements from the real world. Plus procedually generated product names will be way funnier! 

The only exception to this is the `labour` product, which will be hard-coded in as it's essential for simulating people and time within our little sandbox economy. 

`labour` is the lowest form of product, and every person in the simulation (who is alive and employed!) will generate x amount of labour product per tick, the amount they product per tick will differ from person to person to simulate different levels of education and employee desirability.

I was tempted to have a whole sub-category of labour for different manual skills such as plumbing or computer programming, then have companies try to hire people based on specific labour requirements. But that's probably overkill for the prototype, and would likely require an entire `education` simulation to add any value, so for now all people will simply generate  `labour` product per tick.

All products above labour will require other products to produce, some products may just be a direct byproduct of labour (e.g. 5 x labour gets you 1 x product) but as the ecosystem grows, more complex products will be created, and more complicated supply chains will evolve, but somewhere down the line they'll require labour still.

#### Unknowns

Where would stocks/shares fit into it? would that be a type of currency, or a type of product, or a third type entirely? I suspect it may be a third type as you can't trade it directly for a product, and would have to convert it into cash, then convert that cash into product. Let's get the simulation running without stocks to begin with and see where it fits in later, as it's also tied into company ownership and company profit distribution.

#### Seeding

The idea is the simulation will expand (or retract) by itself once running, the population can increase, new companies can be established. But we can't start the simulation from zero, so we'll have to at least procedually generate some sort of seed scenario from which the simulation begins.

Being as lazy as I am, I'd like to make the simulation itself smarter, and make the seeding pretty basic. Below are my ideas around seeding the relevant entities

##### Product

- Hard-coded `labour` product (for people)
	- Tradable
	- Expires after 1 tick
- Hard-coded `health` product (for people)
	- Non tradable
	- Expires after x ticks
- Hard-coded `happiness` product (for people)
	- Non tradable
	- Expires after x ticks
- All other products (and their dependencies) will be randomly generated
- As the simulation runs, more complex products will emerge

##### People

- Randomly generate 1,000 people
- Set each persons producitivty (e.g. the amount of labour product they generate per tick) randomly between 0.5 and 1.5

##### Companies

- Don't seed anything, people will (have no choice initially) but setup their own companies (self-employment in the simulation is just a 1 person company), then from this it should evolve over time to companies and corporations.

### Entities

Thinking about how individual entities will work and their data structure

#### Product Information
##### Fields
- Name - human readable string
- Ingredients - Array of products (and quantities) needed to manufacture 1 of this product
- Lifespan - Product is destroyed x ticks after creation (optional)
- Essential - This is a classified as an essential product to keep people alive?
- Tradable - Can the product be traded?
##### Functions
- Products will consume it's ingredients (i.e. replace them in the simulation) when produced
- Some products will expire automatically after x ticks, e.g. 'labour' is generated once per tick, so we make that product also expire after one tick so unemployed staff don't just build up a huge backlog of labour resource.


#### Currency
##### Fields
- Currency - human readable string
- Symbol - human readable symbol
- Decimals - the smallest unit the currency
##### Functions

#### People
##### Fields
- Name
- Age
- Money
	- Currency[] held (type and quantity)
- Produces (products they can create, if they have the required resources)
	- Their `health` product
	- Their `happiness` product
	- Their `labour` product
- Resources (products they own)
	- Products[] held (type and quantity) as resources.
		- products they have purchased
		- Can these be consumable? (i.e. meals out, movies etc)
##### Functions
- The health product requires essential products to produce, 
this will force the AI to buy food to keep them alive
The health product will require 'Essential' products to create, this will encourage (well, force) the AI to make people buy food, is the person ever has zero health in their resources, they've starved to death.
- The happiness product works the same as the health product, but consumes luxery items instead of essential items.
- People have an increasingly high percentage of dying as they get older.
- People have a chance to `birth` other people which changes based on their age.
- People look at available jobs, and can switch jobs
- People can start a company as an alternative to working, to begin with they'll be the only employee (i.e. self-employed)
- People with a lot of spare money will be luxery products
	- TBD - think about the driving factor for this from an AI perspective, and how we identify which products are luxery consumer items so they don't just go buying steel girders, i think  most of these would also be 'consumable' products.


#### Companies
##### Fields
- Name
- Money
	- Currency[] held (type and quantity)
- Produces (products they can create, if they have the required resources)
	- Products[] they produce
- Resources (products they own)
	- Products[] held (type and quantity) as resources.
		- this will hold the products they have produced, the products they have purchased (to manufacture their products with) plus any labour they have gathered from employees
- Employees
	- People[] under current employment
	- Metadata on employment such as salary paid

##### Functions

- Every tick any employee 'labour' resource[] is transferred into the company resources[]
- Companys can 'buy' any other resources it needs from other companies who have that resource
- Companys will have to pay staff every x tickets
- Going bust
	- if it runs out of money, the company shutsdown

	
## Techstack

Thoughts around the tech stack..

Simulation 
Needs to run quickly, so pure C
Websockets to expose an API

Frontend,
HTML/JS using the API provided from the C backend
Maybe react.js if it's not going to bloat the project too big, doesn't have to look pretty.
